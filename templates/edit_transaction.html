{% extends "base.html" %}
{% block content %}

<div class="card-container">
    <div class="card card-smaller" id="main">
        <h2>Update {{expense.description}}</h2>

        <form action="/{{ expense.id }}" method="POST">
            <div>
                <label for="date">Date:</label>
                <input type="date" id="date" name="date" value="{{ expense.date }}">
            </div>
            
            <div>
                <label for="merchant">Merchant:</label>
                <select name="merchant_id" id="merchant" class="select-card">
                    {% for merchant in merchants %}
                    <option value="{{ merchant.id }}" {% if merchant.id == expense.merchant.id %} selected {% endif %}>
                        {{ merchant.name }}
                    </option>
                    {% endfor %}
                </select>
            </div>

            <div>
                <label for="category">Category:</label>
                <select name="category_id" id="category" class="select-card">
                    {% for category in categories %}
                    <option value="{{ category.id }}" {% if category.id == expense.category.id %} selected {% endif %}>
                        {{ category.name }}
                    </option>
                    {% endfor %}
                </select>
            </div>
            <div>
            <div>
                <label for="amount">Amount:</label>
                <input type="number" id="amount" name="amount" value="{{ expense.amount }}" min=0 step="0.01" placeholder="Â£00.00" required>

            <div>
                <label for="description">Description:</label>
                <textarea rows="2" cols="40" type="text" id="description" name="description" value="{{ expense.description }}">{{ expense.description }}</textarea>
            </div>

            </div>
                <input type="submit" value="Update transaction" class="btn">
            </div>
        </form>
    </div>
</div>
{% endblock %}