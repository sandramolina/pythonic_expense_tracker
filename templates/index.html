{% extends "base.html" %}
{% block content %}

<!-- <h2 class="title center-in-page"> Welcome to the Pythonic Expense Tracker</h2> -->

<div class="card-container">
    <div class="card">

        <h2 class="title" id="main">Register a new Transaction</h2>
        <form action="/" method="POST">
            <div>
                <label for="date">Date:</label>
                <input type="date" id="date" name="date" required>
            </div>

            <div>
                <label for="merchant">Merchant:</label>
                <select id="merchant" name="merchant_id" class="select-card">
                    {% for merchant in all_merchants %}
                        <option value="{{ merchant.id }}">{{ merchant.get_merchant_name() }}</option>
                    {% endfor %}
                </select>
            </div>

            <div>
                <label for="category">Category:</label>
                <select id="category" name="category_id" class="select-card">
                    {% for category in all_categories %}
                        <option value="{{ category.id }}">{{ category.get_category_name() }}</option>
                    {% endfor %}
                </select>
            </div>

            <div>
                <label for="amount">Amount:</label>
                <input type="number" id="amount" name="amount" min=0 step="0.01" placeholder="£00.00" required>
            </div>

            <div>
                <label for="description">Description:</label>
                <textarea rows="2" cols="50" type="text" id="description" name="description" placeholder="e.g. Dinner with Jon Snow" required></textarea>
            </div>

            <input type="submit" value="Add Expense" class="btn">
        </form>

    </div>

    <div class="card">
        <h2>Add some budget</h2>

        <p>{{balance_alert}}</p>
        <form action="/budget_mgmt" method="POST">
            <div>
                <label for="total_budget">Budget to add:</label>
                <input type="number" id="total_budget" name="total_budget" min=0 step="0.01" required placeholder="£00.00">
            </div>
            <div>
                <label for="periodicity">Periodicity:</label>
                <select name="periodicity" class="select-card">
                    <option value="yearly">Yearly</option>
                    <option value="monthly">Monthly</option>
                    <option value="weekly">Weekly</option>
                </select>
            </div>
            <input type="submit" value="Add Budget" class="btn">
        </form>
    </div>

</div>
{% endblock %}


